/*!
 * @package Content Aware Sidebars
 * @author Joachim Jensen <jv@intox.dk>
 * @license GPLv3
 * @copyright 2016 by Joachim Jensen
 */
!function(a){var b={init:function(){this.suggestSidebars(),this.toggleSidebarInputs()},toggleSidebarInputs:function(){a(".js-cas-more").click(function(b){b.preventDefault();var c=a(this),d=a(c.data("toggle")),e=c.children(":first");e.hasClass("dashicons-arrow-down-alt2")?(e.addClass("dashicons-arrow-up-alt2").removeClass("dashicons-arrow-down-alt2"),d.slideDown()):(e.addClass("dashicons-arrow-down-alt2").removeClass("dashicons-arrow-up-alt2"),d.slideUp())})},suggestSidebars:function(){var b=a(".js-cas-sidebars");b.each(function(){$this=a(this),$this.select2({containerCssClass:"cas-select2",dropdownCssClass:"cas-select2",minimumInputLength:0,closeOnSelect:!0,allowClear:!1,multiple:!0,data:$this.data("sidebars"),width:"100%",createSearchChoice:function(b,c){return CAS.canCreate&&b&&0===a(c).filter(function(){return 0===this.text.localeCompare(b)}).length?{id:"_"+b.replace(",","_"),text:b}:null},formatSelection:function(a){return(a.id>0?"":"<b>("+CAS.labelNew+")</b> ")+a.text},formatResult:function(a){return(a.id>0?"":"<b>"+CAS.createNew+":</b> ")+a.text},formatNoMatches:function(){return CAS.notFound}})})}};a(document).ready(function(){b.init()})}(jQuery);